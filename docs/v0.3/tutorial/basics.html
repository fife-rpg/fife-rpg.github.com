<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Basics &mdash; fife-rpg 0.3 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="fife-rpg 0.3 documentation" href="../index.html" />
    <link rel="up" title="Tutorial" href="tutorial.html" />
    <link rel="next" title="Getting something displayed" href="display.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="display.html" title="Getting something displayed"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">fife-rpg 0.3 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="tutorial.html" accesskey="U">Tutorial</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="basics">
<h1>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">Â¶</a></h1>
<p>Like FIFE FIFErpg applications need a <a class="reference external" href="http://wiki.fifengine.net/Engine_Extensions#Engine_Settings">settings</a> file. FIFErpg adds a few
settings to the FIFE ones which are inside the &#8220;fife-rpg&#8221; module. The only one
that is absolutely required is the &#8220;ProjectName&#8221; setting, which is of the
type &#8220;str&#8221;. This is the (project) name of your game. For the basic example
this is enough, but you would not be able to use most of the features of
FIFErpg. The other settings will be shown when the features are explained
in this tutorial.</p>
<p>An example of a basic settings file for FIFErpg looks like this:</p>
<p><a class="reference download internal" href="../_downloads/settings-dist1.xml" download=""><code class="xref download docutils literal"><span class="pre">settings-dist.xml</span></code></a></p>
<script type="text/javascript">
    function showhide(element){
        if (!document.getElementById)
            return

        if (element.style.display == "block")
            element.style.display = "none"
        else
            element.style.display = "block"
    };
</script>
<a href="javascript:showhide(document.getElementById('hiddencodeblock2'))">+ show/hide contents</a><br /><div id="hiddencodeblock2" style="display: block"><div class="highlight-default"><div class="highlight"><pre><span></span>&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;
&lt;Settings&gt;
	&lt;Module name=&quot;FIFE&quot;&gt;
		&lt;Setting name=&quot;FullScreen&quot; type=&quot;bool&quot;&gt; False &lt;/Setting&gt;
		&lt;Setting name=&quot;PlaySounds&quot; type=&quot;bool&quot;&gt; True &lt;/Setting&gt;
		&lt;Setting name=&quot;RenderBackend&quot; type=&quot;str&quot;&gt; OpenGL &lt;/Setting&gt;
		&lt;Setting name=&quot;ScreenResolution&quot; type=&quot;str&quot;&gt;1024x768&lt;/Setting&gt;
		&lt;Setting name=&quot;BitsPerPixel&quot; type=&quot;int&quot;&gt; 0 &lt;/Setting&gt;
		&lt;Setting name=&quot;InitialVolume&quot; type=&quot;float&quot;&gt; 5.0 &lt;/Setting&gt;
		&lt;Setting name=&quot;SDLRemoveFakeAlpha&quot; type=&quot;int&quot;&gt; 1 &lt;/Setting&gt;
		&lt;Setting name=&quot;GLCompressImages&quot; type=&quot;bool&quot;&gt; False &lt;/Setting&gt;
		&lt;Setting name=&quot;WindowTitle&quot; type=&quot;str&quot;&gt; FIFErpg Tutorial &lt;/Setting&gt;
		&lt;Setting name=&quot;WindowIcon&quot; type=&quot;str&quot;&gt; &lt;/Setting&gt;
		&lt;Setting name=&quot;Font&quot; type=&quot;str&quot;&gt; fonts/FreeSans.ttf &lt;/Setting&gt;
		&lt;Setting name=&quot;FontGlyphs&quot; strip=&quot;0&quot; type=&quot;str&quot;&gt; abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.,!?-+/():;%&amp;amp;`&#39;*#=[]\&quot;&lt;/Setting&gt;
		&lt;Setting name=&quot;DefaultFontSize&quot; type=&quot;int&quot;&gt; 16 &lt;/Setting&gt;
		&lt;Setting name=&quot;LogModules&quot; type=&quot;list&quot;&gt; controller ; script &lt;/Setting&gt;
		&lt;Setting name=&quot;PychanDebug&quot; type=&quot;bool&quot;&gt; False &lt;/Setting&gt;
		&lt;Setting name=&quot;LogToPrompt&quot; type=&quot;int&quot;&gt; 1 &lt;/Setting&gt;
 		&lt;Setting name=&quot;UsePsyco&quot; type=&quot;bool&quot;&gt; False &lt;/Setting&gt;
		&lt;Setting name=&quot;ProfilingOn&quot; type=&quot;bool&quot;&gt; False &lt;/Setting&gt;
		&lt;Setting name=&quot;LogToFile&quot; type=&quot;int&quot;&gt; 0 &lt;/Setting&gt;
    	&lt;Setting name=&quot;Lighting&quot; type=&quot;int&quot;&gt; 0 &lt;/Setting&gt;
	&lt;/Module&gt;
	&lt;Module name=&quot;fife-rpg&quot;&gt;
    	&lt;Setting name=&quot;ProjectName&quot; type=&quot;str&quot;&gt;Tutorial 1&lt;/Setting&gt;
    &lt;/Module&gt;
&lt;/Settings&gt;
</pre></div>
</div>
</div><p>Note that it is named &#8220;settings-dist.xml&#8221; and not &#8220;settings.xml&#8221;. This is a
feature that is already in FIFE itself. If it can&#8217;t find the &#8220;settings.xml&#8221;
file it will use a settings-dist.xml file to create a default one. So a
&#8220;settings-dist.xml&#8221; should only contain settings that work on every system.</p>
<p>As mentioned in the fife wiki the settings file is normally placed in the same
directory as the main Python file.</p>
<p>Also while there is no text being actually shown in the basic example a font is
needed. The tutorial uses the FreeSans font. The version used can obtained from
<a class="reference download internal" href="../_downloads/FreeSans.ttf" download=""><code class="xref download docutils literal"><span class="pre">here</span></code></a>. You are free, of course, to use
whatever font you want, but you will need to adjust the settings file to point
to the font. The default settings will look for a &#8220;FreeSans.ttf&#8221; file inside a
&#8220;fonts&#8221; directory.</p>
<p>With those things taken care of we can move on to the code.</p>
<p>First we need to import three classes from FIFErpg:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">RPGApplication</span>
<span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">GameSceneView</span>
<span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">GameSceneController</span>
</pre></div>
</div>
<p>The RPGApplication class is the main class for FIFErpg, it takes care of most
of the automatic discovery and activation features. It also stores the world,
which is like the model in a model-view-controller pattern. Every FIFErpg
application should either use this or have a class that inherits from this.</p>
<p>The GameSceneView and GameSceneController classes are dummy classes that
can be used when no actual functionality is required for either the controller
or the view. For the basic example these will suffice, but you will need to
write your own views and controllers, and inherit those from
ViewBase and ControllerBase respectively. That will be for a later tutorial
though.</p>
<p>Also you will need to import the settings extension from fife:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fife.extensions.fife_settings</span> <span class="k">import</span> <span class="n">Setting</span>
</pre></div>
</div>
<p>This will be used to load the settings file, which is the next step:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">settings</span> <span class="o">=</span> <span class="n">Setting</span><span class="p">(</span><span class="n">app_name</span><span class="o">=</span><span class="s2">&quot;Tutorial 1&quot;</span><span class="p">,</span> <span class="n">settings_file</span><span class="o">=</span><span class="s2">&quot;settings.xml&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The next thing is to create the application, using the settings:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">RPGApplication</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
</pre></div>
</div>
<p>The view and controller also need to be created. Note the order, it is
important:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">view</span> <span class="o">=</span> <span class="n">GameSceneView</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
<span class="n">controller</span> <span class="o">=</span> <span class="n">GameSceneController</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>The next step is to have the application create the world:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">create_world</span><span class="p">()</span>
</pre></div>
</div>
<p>Now everything is set up. But you will need to tell the application to use
the controller. This is done with the following code:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">push_mode</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
</pre></div>
</div>
<p>The &#8220;push_mode&#8221; method is inherited from the bGrease class <a class="reference external" href="http://beliaar.github.com/bGrease/mod/mode.html#bGrease.mode.BaseManager.push_mode">BaseManager</a> and the
FIFErpg controllers are specialized modes.</p>
<p>Finally, the only thing left is to actually start the application.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Here is the complete code:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">RPGApplication</span>
<span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">GameSceneView</span>
<span class="kn">from</span> <span class="nn">fife_rpg</span> <span class="k">import</span> <span class="n">GameSceneController</span>
<span class="kn">from</span> <span class="nn">fife.extensions.fife_settings</span> <span class="k">import</span> <span class="n">Setting</span>

<span class="n">settings</span> <span class="o">=</span> <span class="n">Setting</span><span class="p">(</span><span class="n">app_name</span><span class="o">=</span><span class="s2">&quot;Tutorial 1&quot;</span><span class="p">,</span> <span class="n">settings_file</span><span class="o">=</span><span class="s2">&quot;settings.xml&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">RPGApplication</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
    <span class="n">view</span> <span class="o">=</span> <span class="n">GameSceneView</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
    <span class="n">controller</span> <span class="o">=</span> <span class="n">GameSceneController</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">create_world</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">push_mode</span><span class="p">(</span><span class="n">controller</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>If you run this code a window with a black background will appear.
You can either use the Escape key, or the X button in the title bar of the
window to close it.</p>
<p>The <a class="reference internal" href="display.html#display"><span class="std std-ref">next</span></a> part of the tutorial will show how to actually display a FIFE map.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorial.html"
                        title="previous chapter">Tutorial</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="display.html"
                        title="next chapter">Getting something displayed</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorial/basics.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="display.html" title="Getting something displayed"
             >next</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorial"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">fife-rpg 0.3 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="tutorial.html" >Tutorial</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2012-2017, Karsten Bock.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.5.
    </div>
  </body>
</html>